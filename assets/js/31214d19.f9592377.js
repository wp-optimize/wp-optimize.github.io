"use strict";(self.webpackChunkwp_optimize=self.webpackChunkwp_optimize||[]).push([[850],{661:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"server-configuration","title":"Server Configuration","description":"This section covers the server setup required for a high-performance WordPress environment. We\'ll use CyberPanel, OpenLiteSpeed, MariaDB, and PHP (LSAPI) to create a robust and scalable hosting stack.","source":"@site/docs/server-configuration.md","sourceDirName":".","slug":"/server-configuration","permalink":"/server-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/wp-optimize/wp-seo-performance-guide/blob/main/docs/server-configuration.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Server Configuration","sidebar_label":"Server Configuration","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Choosing the Right Hosting","permalink":"/choosing-hosting"},"next":{"title":"Add cloudflare and optimize","permalink":"/add-cloudflare-and-optimize"}}');var r=s(4848),o=s(8453);const t={title:"Server Configuration",sidebar_label:"Server Configuration",sidebar_position:3},a="Server Configuration for WordPress Optimization",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Install CyberPanel",id:"1-install-cyberpanel",level:2},{value:"Installation Options",id:"installation-options",level:3},{value:"Access CyberPanel",id:"access-cyberpanel",level:3},{value:"2. Configure OpenLiteSpeed",id:"2-configure-openlitespeed",level:2},{value:"Access OpenLiteSpeed Admin",id:"access-openlitespeed-admin",level:3},{value:"3. Install and Configure MariaDB",id:"3-install-and-configure-mariadb",level:2},{value:"Retrieve MariaDB Root Password",id:"retrieve-mariadb-root-password",level:3},{value:"Optimize MariaDB for WordPress",id:"optimize-mariadb-for-wordpress",level:3},{value:"4. PHP Configuration (LSAPI with OPcache)",id:"4-php-configuration-lsapi-with-opcache",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"server-configuration-for-wordpress-optimization",children:"Server Configuration for WordPress Optimization"})}),"\n",(0,r.jsxs)(n.p,{children:["This section covers the server setup required for a high-performance WordPress environment. We'll use ",(0,r.jsx)(n.strong,{children:"CyberPanel"}),", ",(0,r.jsx)(n.strong,{children:"OpenLiteSpeed"}),", ",(0,r.jsx)(n.strong,{children:"MariaDB"}),", and ",(0,r.jsx)(n.strong,{children:"PHP (LSAPI)"})," to create a robust and scalable hosting stack."]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ubuntu 22.04 LTS"})," (CyberPanel does not yet support Ubuntu 24.04)."]}),"\n",(0,r.jsx)(n.li,{children:"A fresh server with root access."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Update your system and install essential tools:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt update && sudo apt upgrade -y\nsudo apt install -y curl wget git unzip\n"})}),"\n",(0,r.jsx)(n.h2,{id:"1-install-cyberpanel",children:"1. Install CyberPanel"}),"\n",(0,r.jsx)(n.p,{children:"CyberPanel is a powerful control panel that simplifies server management. Install it with the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sh <(curl https://cyberpanel.net/install.sh || wget -O - https://cyberpanel.net/install.sh)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"installation-options",children:"Installation Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": Full installation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Web Server"}),": OpenLiteSpeed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Remote MySQL"}),": No"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Install Memcached and Redis"}),": No (LSCache handles caching)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Install WatchDog"}),": Yes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Admin Email"}),": Set your email"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Admin Password"}),": Set your password"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"access-cyberpanel",children:"Access CyberPanel"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"URL"}),": ",(0,r.jsx)(n.code,{children:"https://<your-server-ip>:8090"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Username"}),": ",(0,r.jsx)(n.code,{children:"admin"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password"}),": ",(0,r.jsx)(n.code,{children:"<your-password>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-configure-openlitespeed",children:"2. Configure OpenLiteSpeed"}),"\n",(0,r.jsx)(n.p,{children:"OpenLiteSpeed is a lightweight, high-performance web server. Configure the admin password:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/usr/local/lsws/admin/misc/admpass.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"access-openlitespeed-admin",children:"Access OpenLiteSpeed Admin"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"URL"}),": ",(0,r.jsx)(n.code,{children:"https://<your-server-ip>:7080"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Username"}),": ",(0,r.jsx)(n.code,{children:"admin"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password"}),": ",(0,r.jsx)(n.code,{children:"<your-password>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"3-install-and-configure-mariadb",children:"3. Install and Configure MariaDB"}),"\n",(0,r.jsx)(n.p,{children:"MariaDB is a reliable, high-performance database server. Install it with:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install mariadb-server mariadb-client -y\n"})}),"\n",(0,r.jsx)(n.h3,{id:"retrieve-mariadb-root-password",children:"Retrieve MariaDB Root Password"}),"\n",(0,r.jsx)(n.p,{children:"You can find the root password in the CyberPanel configuration file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cat /etc/cyberpanel/mysqlPassword\n"})}),"\n",(0,r.jsx)(n.h3,{id:"optimize-mariadb-for-wordpress",children:"Optimize MariaDB for WordPress"}),"\n",(0,r.jsx)(n.p,{children:"Edit the MariaDB configuration file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf\n"})}),"\n",(0,r.jsx)(n.p,{children:"Add or adjust the following settings:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:'[mysqld]\n# InnoDB settings\ninnodb_buffer_pool_size = 2G         # Adjust to ~70% of available RAM\ninnodb_log_file_size = 256M          # Good for write-heavy workloads\ninnodb_flush_log_at_trx_commit = 1   # Better performance with slight durability trade-off\ninnodb_flush_method = O_DIRECT       # Bypass OS cache for better stability\n\n# Query settings\nquery_cache_type = 0                 # Disable query cache (better for WordPress)\nquery_cache_size = 0                 # Disable completely\njoin_buffer_size = 1M                # Help with complex joins\nsort_buffer_size = 2M                # Improve sorting performance\nread_buffer_size = 2M\nread_rnd_buffer_size = 1M\n\n# Connection and cache settings\nmax_connections = 200                # Good baseline for most sites\nthread_cache_size = 50               # Reduce connection overhead\ntable_open_cache = 400               # WordPress uses many tables\ntable_definition_cache = 2000        # Cache table definitions\nopen_files_limit = 65535             # Prevent "too many open files" errors\n\n# Logging (minimal for performance)\nslow_query_log = 1\nslow_query_log_file = /var/log/mysql/mariadb-slow.log\nlong_query_time = 2\n'})}),"\n",(0,r.jsx)(n.p,{children:"Restart MariaDB:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart mariadb\n"})}),"\n",(0,r.jsx)(n.h2,{id:"4-php-configuration-lsapi-with-opcache",children:"4. PHP Configuration (LSAPI with OPcache)"}),"\n",(0,r.jsx)(n.p,{children:"Optimize PHP for WordPress by editing the PHP configuration in CyberPanel:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"CyberPanel \u2192 PHP \u2192 Edit PHP Configs \u2192 8.1"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Add the following settings to the end of the file:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:'; PHP Memory Settings\nmemory_limit = 1024M\nmax_execution_time = 300\nmax_input_time = 300\npost_max_size = 128M\nupload_max_filesize = 128M\nmax_input_vars = 5000\nfile_uploads = On\n\n; Error Handling - Disable for production\nerror_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT\ndisplay_errors = Off\ndisplay_startup_errors = Off\nlog_errors = On\nerror_log = /var/log/php_errors.log\n\n; Performance Optimizations\nrealpath_cache_size = 4M\nrealpath_cache_ttl = 120\n\n; OPcache Settings - Aggressive Performance\n[opcache]\nzend_extension=opcache\nopcache.enable = 1\nopcache.enable_cli = 1\nopcache.memory_consumption = 512\nopcache.interned_strings_buffer = 64\nopcache.max_accelerated_files = 32531\nopcache.max_wasted_percentage = 5\nopcache.use_cwd = 0\nopcache.validate_timestamps = 0\nopcache.revalidate_freq = 0\nopcache.save_comments = 1\nopcache.fast_shutdown = 1\nopcache.consistency_checks = 0\nopcache.optimization_level = 0xffffffff\n\n; OPcache JIT Settings (PHP 8+)\nopcache.jit = 1255\nopcache.jit_buffer_size = 256M\n\n; File Handling\nallow_url_fopen = On\nallow_url_include = Off\n\n; Session Settings\nsession.save_handler = files\nsession.save_path = "/var/lib/php/sessions"\nsession.use_strict_mode = 1\nsession.use_cookies = 1\nsession.cookie_secure = 1\nsession.use_only_cookies = 1\nsession.name = PHPSESSID\nsession.cookie_lifetime = 0\nsession.cookie_path = /\nsession.cookie_domain =\nsession.cookie_httponly = 1\nsession.gc_maxlifetime = 1440\nsession.gc_probability = 1\nsession.gc_divisor = 100\nsession.cache_expire = 180\nsession.cache_limiter = nocache\nsession.sid_length = 48\nsession.sid_bits_per_character = 6\nsession.lazy_write = 0\n\n; Date Settings\ndate.timezone = UTC\n\n; MySQL/MariaDB Settings\nmysqlnd.collect_memory_statistics = Off\n\n; Zlib Output Compression\nzlib.output_compression = On\nzlib.output_compression_level = 9\n\n; LSAPI Specific Settings\nlsapi.use_output_buffering = On\nlsapi.allow_persistent_connections = On\nlsapi.backend_accept_once = Off\nlsapi.socket_owner = nobody\nlsapi.socket_group = nobody\nlsapi.socket_mode = 0660\nlsapi.max_process_time = 300\nlsapi.memory_limit = 1024M\nlsapi.children_start_request = 5\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Restart PHP using the button in CyberPanel."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.p,{children:["With the server configured, you're ready to install and optimize WordPress. Proceed to the next section to learn how to set up WordPress for ",(0,r.jsx)(n.strong,{children:"Core Web Vitals"})," and ",(0,r.jsx)(n.strong,{children:"SEO"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);